#!/bin/bash

# header ------------------------------------------------------------------------
. $(dirname ${0})/../lib/h.sh
sp_f_load ssh

function __list() {
  sp_f_sshlmnt
  echo
  exit 0
}

function __usage() {
  echo "Usage: ${sp_g_bn} [-f] [-m host]"
  exit 1
}

# options -----------------------------------------------------------------------
if test $# -eq 0 ; then
  __list
fi

_m="default"
_f=false

if test $# -gt 1 ; then
  while getopts lfhm: o; do
    case "$o" in
      m) _m=$OPTARG;;
      f) _f=true;;
      h) __usage;;
      l) __list;;
    esac
  done
else
  _m="${1}"
fi


# main --------------------------------------------------------------------------
sp_f_ptt "${sp_g_bn}"
sp_f_${sp_g_bn} "${_m}" ${_f}
